{"version":3,"sources":["../../../test/spec/middleware/koa2-jsx.js"],"names":["generatorTestSuite","context","snapshotContext","api","snapshot","start","snapshotDir","test","setDir","t","url","middleware","koa2Jsx","use","config","pretty","wireframe","page","function","app","text","ctx","next","setTitle","Content","actual"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AADmE;AAClB;;AAEjD;AACA,MAAMA,qBAAqB;AACzBC,WAAS,CACPA,gBADO,EAEPC,wBAFO,CADgB;;AAKzB,QAAM,mCAAN,CAA0CC,GAA1C,EAA+CC,QAA/C,EAAyD;AACvD,UAAM;AAAEC,WAAF;AAASC;AAAT,QAAyBH,GAA/B;AACA,UAAM;AAAEI,UAAF;AAAQC;AAAR,QAAmBJ,QAAzB;AACAI,WAAOF,WAAP;AACA,UAAMG,IAAI,aAAV;AACA,UAAM;AAAEC;AAAF,QAAU,MAAML,MAAM;AAC1BM,kBAAY;AACVC,iBAAS;AAAEC,eAAK,IAAP;AAAaC,kBAAQ;AAAEC,oBAAQ;AAAV,WAArB;AAAuCC,qBAAW;AAAlD,SADC;AAEVC,cAAM;AACJC,oBAAU,CAACC,GAAD,EAAM;AAAEC;AAAF,WAAN,KAAmB;AAC3B,mBAAO,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;AAC1BD,kBAAIE,QAAJ,CAAa,wBAAb;AACAF,kBAAIG,OAAJ,GAAcJ,IAAd;AACA,oBAAME,MAAN;AACD,aAJD;AAKD,WAPG;AAQJR,kBAAQ;AAAEM,kBAAMX;AAAR,WARJ;AASJI,eAAK;AATD;AAFI;AADc,KAAN,CAAtB;AAgBA,UAAMY,SAAS,MAAM,kBAAIf,GAAJ,CAArB;AACA,UAAMH,KAAK,+BAAL,EAAsCkB,MAAtC,CAAN;AACD;;AA5BwB,CAA3B;eA+BezB,kB","sourcesContent":["import rqt from 'rqt'\nimport snapshotContext, { SnapshotContext} from 'snapshot-context' // eslint-disable-line\nimport context, { Context } from '../../context' // eslint-disable-line no-unused-vars\n\n/** @type {Object.<string, (api: Context, sApi: SnapshotContext)>} */\nconst generatorTestSuite = {\n  context: [\n    context,\n    snapshotContext,\n  ],\n  async 'serves pretty html with wireframe'(api, snapshot) {\n    const { start, snapshotDir } = api\n    const { test, setDir } = snapshot\n    setDir(snapshotDir)\n    const t = 'hello world'\n    const { url } = await start({\n      middleware: {\n        koa2Jsx: { use: true, config: { pretty: true }, wireframe: true },\n        page: {\n          function: (app, { text }) => {\n            return async (ctx, next) => {\n              ctx.setTitle('Idio tests | main page')\n              ctx.Content = text\n              await next()\n            }\n          },\n          config: { text: t },\n          use: true,\n        },\n      },\n    })\n    const actual = await rqt(url)\n    await test('koa2Jsx/pretty-wireframe.html', actual)\n  },\n}\n\nexport default generatorTestSuite\n"],"file":"koa2-jsx.js"}