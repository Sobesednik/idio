{"version":3,"sources":["../../src/generator/index.js"],"names":["getAll","pages","allPages","Object","keys","reduce","acc","key","aliases","getMain","generate","url","promises","map","page","res","v","Promise","all","mv","current"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,SAAUC,KAAD,IAAW;AACxB,QAAMC,WAAWC,OAAOC,IAAP,CAAYH,KAAZ,EAAmBI,MAAnB,CAA0B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvD,UAAMC,UAAUP,MAAMM,GAAN,CAAhB;AACA,WAAO,CAAC,GAAGD,GAAJ,EAASC,GAAT,EAAc,GAAGC,OAAjB,CAAP;AACD,GAHgB,EAGd,EAHc,CAAjB;AAIA,SAAON,QAAP;AACD,CAND;;AAOA,MAAMO,UAAWR,KAAD,IAAW;AACzB,QAAMG,OAAOD,OAAOC,IAAP,CAAYH,KAAZ,CAAb;AACA,SAAOG,IAAP;AACD,CAHD;;AAKe,eAAeM,QAAf,CAAwBC,GAAxB,EAA6BV,QAAQ,EAArC,EAAyC;AACtD,QAAMC,WAAWO,QAAQR,KAAR,CAAjB;AACA,QAAMW,WAAWV,SAASW,GAAT,CAAa,MAAMC,IAAN,IAAc;AAC1C,UAAMC,MAAM,MAAM,kBAAK,GAAEJ,GAAI,GAAEG,IAAK,EAAlB,CAAlB;AACA,WAAO;AAAE,OAACA,IAAD,GAAQC;AAAV,KAAP;AACD,GAHgB,CAAjB;AAIA,QAAMC,IAAI,MAAMC,QAAQC,GAAR,CAAYN,QAAZ,CAAhB;AACA,QAAMO,KAAKH,EAAEX,MAAF,CAAS,CAACC,GAAD,EAAMc,OAAN,KAAkB;AACpC,WAAO,EACL,GAAGd,GADE;AAEL,SAAGc;AAFE,KAAP;AAID,GALU,EAKR,EALQ,CAAX;AAMA,SAAOD,EAAP;AACD","sourcesContent":["import rqt from 'rqt'\n\nconst getAll = (pages) => {\n  const allPages = Object.keys(pages).reduce((acc, key) => {\n    const aliases = pages[key]\n    return [...acc, key, ...aliases]\n  }, [])\n  return allPages\n}\nconst getMain = (pages) => {\n  const keys = Object.keys(pages)\n  return keys\n}\n\nexport default async function generate(url, pages = {}) {\n  const allPages = getMain(pages)\n  const promises = allPages.map(async page => {\n    const res = await rqt(`${url}${page}`)\n    return { [page]: res }\n  })\n  const v = await Promise.all(promises)\n  const mv = v.reduce((acc, current) => {\n    return {\n      ...acc,\n      ...current,\n    }\n  }, {})\n  return mv\n}\n"],"file":"index.js"}